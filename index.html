<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>A Cute Message</title>
  <style>
    /* Your existing styles here (same as before) */
    /* ... */
  </style>
</head>
<body>
  <div class="memo-card">
    <h1 id="main-heading">Happy one year and two months!</h1>
    <div class="sub-message" id="sub-message">mi amor!</div>
    <p class="emoticon" id="emoticon">(o´▽`o)</p>
    <p class="instructions">Click the next button!! ♡</p>
    <button id="next-button" class="next-button">Next!! ~w~</button>
  </div>

  <script>
    const nextButton = document.getElementById("next-button");
    const mainHeading = document.getElementById("main-heading");
    const subMessage = document.getElementById("sub-message");
    const emoticon = document.getElementById("emoticon");
    const cardImage = document.getElementById("card-image");

    const messages = [
      {
        heading: "Happy one year and two months!",
        sub: "mi amor!",
        emote: "(o´▽`o)",
        image: "https://placehold.co/100x100/f8c8dc/a47c8a?text=Cinnamoroll",
      },
      {
        heading: "I hope you have a wonderful day!",
        sub: "You deserve it!",
        emote: "(ﾉ´ヮ`)ﾉ*:･ﾟ✧",
        image: "https://placehold.co/100x100/c9e4f7/849db1?text=Kawaii+2",
      },
      {
        heading: "Thank you for everything...",
        sub: "You make me so happy!",
        emote: "(*^-^*)",
        image: "https://placehold.co/100x100/d4f0d4/8eb38e?text=Yay!",
      },
      {
        heading: "I love you!",
        sub: "Always and forever.",
        emote: "(´♡‿♡`)",
        image: "https://placehold.co/100x100/ffdccc/b59280?text=Heart",
      },
    ];

    // Parse 'page' from URL query string, default to 0
    function getPageFromURL() {
      const params = new URLSearchParams(window.location.search);
      let pageNum = parseInt(params.get("page"), 10);
      if (isNaN(pageNum) || pageNum < 0 || pageNum >= messages.length) {
        pageNum = 0;
      }
      return pageNum;
    }

    let currentPage = getPageFromURL();

    function updateCard(pageIndex) {
      const page = messages[pageIndex];
      mainHeading.textContent = page.heading;
      subMessage.textContent = page.sub;
      emoticon.textContent = page.emote;
    }

    updateCard(currentPage);

   nextButton.addEventListener("click", () => {
  const page = messages[currentPage];
  const url = new URL("screenshot.html", window.location.href);
  url.searchParams.set("image", page.image);  // just filename now
  url.searchParams.set("heading", page.heading);
  url.searchParams.set("sub", page.sub);
  url.searchParams.set("emote", page.emote);
  url.searchParams.set("page", currentPage);
  window.location.href = url.toString();
});

  </script>
</body>
</html>
